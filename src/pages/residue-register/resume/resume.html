<ion-header>
  <ion-navbar color="brown">
      <ion-title>REGISTRAR MATERIAL</ion-title>
  </ion-navbar>
</ion-header>
 
<ion-content padding>
    <ion-card>
        <ion-card-content>
            <img src="assets/img/avatar.png" alt="Avatar">
            <h2 text-center>ENDEREÇO RETIRADA</h2>

            <div [hidden]="locationDetermined">
                <h3>Não foi possível determinar sua localização</h3>
                <p>Clique abaixo para informar seu endereço manualmente</p>
                
                <ion-item>
                    <ion-input type="text" placeholder="Username" 
                        [(ngModel)]="address">
                    </ion-input>
                </ion-item>

            </div>

            <h3 text-center [hidden]="!locationDetermined">{{ location }}</h3>
            
            <ion-grid>
                <ion-row>
                    <ion-col *ngFor="let item of residue.materialList" col-4>
                        <img src="assets/img/{{ item.material.icon }}" alt="{{ item.material.name }}">
                        <p [style.background-color]="item.material.color">{{ item.material.name }}</p>
                    </ion-col>
                </ion-row>
            </ion-grid>

            <div class="estimated-value">
                <p>O valor médio de venda do material registrado é entre: </p> <br>
                <h2>R$ {{ residue.getAverrageValue()[0] }}</h2> <p> e </p> 
                    <h2>R$ {{ residue.getAverrageValue()[1] }}</h2><br>
                <p>Considere complementar o valor com o que você acha justo pelo serviço</p>
            </div>

        </ion-card-content>
    </ion-card>

    <ion-grid>
        <ion-row>
            <ion-col col-6>
                <button ion-button full color="danger" (click)="dismiss()">CANCELAR</button>
            </ion-col>
            <ion-col col-6>
                <button ion-button full color="green" (click)="registerResidue()"
                    [disabled]="!address">REGISTRAR</button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
